---
title: 基数の大きいディメンション
description: Customer Journey Analyticsが一意の値が多数あるディメンションをどのように処理するかを説明します
feature: Dimensions
solution: Customer Journey Analytics
exl-id: 17b275a5-c2c2-48ee-b663-e7fe76f79456
source-git-commit: c343a729de4cb13473a7acc04e837b5e5f69809b
workflow-type: tm+mt
source-wordcount: '526'
ht-degree: 7%

---

# 基数の大きいディメンション

多くの一意の値を含むディメンションを使用する場合、結果のレポートに表示または計算する一意のディメンション項目が多すぎる可能性があります。 最も重要でないと見なされたディメンション項目を削除することで、結果が切り捨てられます。 これらの最適化は、プロジェクトと製品のパフォーマンスを維持するためにおこなわれます。

一意の値が多すぎるレポートをリクエストすると、Analysis Workspaceでは、すべてのディメンション項目が含まれていないことを示す指標がディメンションヘッダーに表示されます。 例えば、「行：1 ～ 50 / 22,343,156」のように指定します。 「より多い」キーワードは、最も重要なディメンション項目を返すために、レポートに何らかの最適化が適用されたことを示します。

![「次より多い」キーワードを表示した Workspace のフリーフォームテーブルで、22,343,156 件を超える 1～50 件が表示された](assets/high-cardinality.png)

## 表示するディメンション項目の決定

Customer Journey Analyticsは、実行時にレポートを処理し、組み合わせたデータセットを複数のサーバーに配布します。 処理サーバーごとのデータは、ユーザー ID でグループ化されます。つまり、1 つの処理サーバーに特定のユーザーのすべてのデータが含まれます。 サーバは、処理が完了すると、処理済みデータのサブセットを集約サーバに渡します。 処理されたデータのすべてのサブセットは、結合され、Workspace レポートの形式で返されます。

一意のしきい値を超えるデータを個々のサーバーが処理する場合、結果が切り捨てられてから、処理されたデータのサブセットが返されます。 切り捨てられたディメンション項目は、並べ替えに使用される指標に基づいて決定されます。

並べ替え指標が計算指標の場合、サーバーは計算指標内の指標を使用して、切り捨てるディメンション項目を決定します。 計算指標には様々な重要度の指標を含めることができるので、結果の正確性が低下する可能性があります。 例えば、「1 人あたりの売上高」を計算する場合、売上高の合計額と合計人数が返され、除算の前に集計されます。 その結果、各処理サーバは、その結果が全体的な並べ替えに与える影響を把握することなく、削除する項目を選択します。

個々のディメンション項目の一部が大きな基数レポートに見つからない可能性がありますが、列の合計は正確で、切り捨てられたデータに基づいていません。 計算指標の「個別カウント」関数も、切り捨てられたディメンション項目の影響を受けません。

## 基数の高いディメンションのベストプラクティス

基数の大きいディメンションに対応する最善の方法は、レポートで処理するディメンション項目の数を制限することです。 すべてのレポートはリクエストされた時点で処理されるので、すぐに結果が得られるようにレポートのパラメータを調整できます。 Adobeでは、次の最適化のいずれかを、基数の大きいディメンションに適用することをお勧めします。

* の使用 [フィルター](/help/components/filters/create-filters.md). フィルターは、各サーバーがデータのサブセットを処理する時に適用されます。
* 検索を使用します。 検索語句から除外されたDimension項目はレポート結果から削除されるので、目的のディメンション項目が表示される可能性が高くなります。
* ルックアップデータセットディメンションを使用します。 ルックアップデータセットディメンションは、イベントデータセットのディメンション項目を組み合わせて、返される一意の値の数を制限します。
* 以下を使用します。 [含む/除外](/help/data-views/component-settings/include-exclude-values.md) データビューマネージャのコンポーネント設定
* リクエストの日付範囲を短くします。 多くのユニーク値が時間の経過と共に累積する場合、Workspace レポートの日付範囲を短くすると、処理するサーバーのユニーク値の数が制限される場合があります。
