---
title: 基数の高いディメンション
description: 一意の値を多く含むディメンションをCustomer Journey Analyticsがどのように処理するかについて説明します
feature: Dimensions
solution: Customer Journey Analytics
exl-id: 17b275a5-c2c2-48ee-b663-e7fe76f79456
role: User
source-git-commit: 38be838fccf896a12da3fbadac50e578081312ba
workflow-type: tm+mt
source-wordcount: '544'
ht-degree: 7%

---

# 基数の高いディメンション

一意の値を多く含むディメンションを使用する場合、結果のレポートに含まれる一意のディメンション項目が多すぎて表示または計算できない可能性があります。 最も重要でないディメンション項目を削除すると、結果が切り捨てられます。 これらの最適化は、プロジェクトと製品のパフォーマンスを維持するために行われます。

一意の値が多すぎるレポートをリクエストすると、Analysis Workspaceでは、すべてのディメンション項目が含まれているわけではないことを示すインジケーターがディメンション見出しに表示されます。 例えば、**[!UICONTROL 行：22,343,156 を超える 1～50]** などです。 **[!UICONTROL 複数]** キーワードは、最も重要なディメンション項目を返すためにレポートに最適化が適用されたことを示します。

![22,343,156 件中 1～50 件を表示する「more than」キーワードを示す、Workspaceのフリーフォームテーブル ](assets/high-cardinality.png)

## 表示するディメンション項目の決定

Customer Journey Analyticsは、レポートが実行されたときに処理を行い、結合されたデータセットを複数のサーバーに配信します。 処理サーバーごとのデータは、ユーザー ID でグループ化されます。つまり、1 つの処理サーバーに特定のユーザーのすべてのデータが含まれます。 サーバーは、処理が完了すると、処理済みのデータのサブセットを集約サーバーに渡します。 処理されたデータのすべてのサブセットは、結合され、Workspace レポートの形式で返されます。

個々のサーバーが一意のしきい値を超えるデータを処理する場合は、結果を切り捨ててから、処理されたデータのサブセットを返します。 切り捨てられたディメンション項目は、並べ替えに使用される指標に基づいて決定されます。

並べ替え指標が計算指標の場合、サーバーは計算指標内の指標を使用して、切り捨てるディメンション項目を決定します。 計算指標には様々な重要性を持つ複数の指標を含めることができるので、結果の精度が落ちる可能性があります。 例えば、「1 人あたりの売上高」を計算する場合、売上高の合計金額とユーザーの合計数が返され、除算を行う前に集計されます。 その結果、各処理サーバーは、結果が全体的な並べ替えにどのように影響するかを把握することなく、削除する項目を選択します。

個々のディメンション項目の一部は高基数レポートに表示されない場合がありますが、列の合計は正確で、切り捨てられたデータに基づいたものではありません。 計算指標の「個別カウント」関数も、切り詰められたディメンション項目の影響を受けません。

## 基数の高いディメンションのベストプラクティス

高いカーディナリティのディメンションに対応する最善の方法は、レポートが処理するディメンション項目の数を制限することです。 すべてのレポートは要求時に処理されるので、すぐに結果が得られるようにレポートパラメーターを調整できます。 Adobeでは、基数の高いディメンションに対して、次のいずれかの最適化をお勧めします。

* [ セグメント ](/help/components/segments/seg-create.md) を使用します。 セグメントは、各サーバーがデータのサブセットを処理する際に適用されます。
* 検索を使用します。 検索語句から除外されたDimension項目はレポート結果から削除され、目的のディメンション項目が表示される可能性が高くなります。
* ルックアップデータセットディメンションを使用します。 ルックアップデータセットディメンションは、イベントデータセットのディメンション項目を組み合わせて、返される一意の値の数を制限します。
* データビューマネージャーの [ 含める/除外する ](/help/data-views/component-settings/include-exclude-values.md) コンポーネント設定を使用します。
* リクエストの日付範囲を短くします。 一意の値が時間の経過と共に多く蓄積される場合、Workspace レポートの日付範囲を短くすると、処理するサーバーの一意の値の数が制限される場合があります。
* [ テーブル全体の書き出し ](/help/analysis-workspace/export/export-cloud.md) を使用して、テーブルのすべての行を返すことを検討してください。
