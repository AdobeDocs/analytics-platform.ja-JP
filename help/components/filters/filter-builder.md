---
description: フィルタービルダーは、指標Dimension、フィルターおよびイベントをドラッグ&ドロップし、コンテナ階層ロジック、ルールおよび演算子に基づいてユーザーをフィルタリングするためのキャンバスです。 この統合開発ツールを使用すると、訪問やイベントをまたいでユーザーの属性とアクションを識別する、シンプルまたは複雑なフィルターを作成して保存できます。
title: フィルターの作成
feature: Filters
role: User
exl-id: 160021f1-6942-4682-9114-d375307d9912
source-git-commit: e1f1e37293f1a18616b11fea685d372ec499c407
workflow-type: tm+mt
source-wordcount: '1255'
ht-degree: 20%

---

# フィルタービルダー

[!UICONTROL  フィルタービルダー ] を使用すると、訪問およびイベントをまたいでユーザーの属性とアクションを識別する、シンプルなフィルターまたは複雑なフィルターを作成できます。 これは、階層ロジック、ルールおよび演算子に基づいて人物をフィルタリングするために、指標ディメンション、イベントまたはその他のフィルターをドラッグ&amp;ドロップするためのキャンバスです。

クイックフィルターを作成したプロジェクトにのみ適用されるクイックフィルターの作成方法については、「[ クイックフィルター ](/help/components/filters/quick-filters.md)」を参照してください。

## フィルタービルダーへのアクセス

フィルタービルダーには、次のいずれかの方法でアクセスできます。

* **上部ナビゲーション**:**[!UICONTROL Customer Journey Analytics]**/**[!UICONTROL コンポーネント]**/**[!UICONTROL フィルター]** をクリックします。
* **[!UICONTROL Analysis Workspace]**: Analysis Workspaceでプロジェクトを開き、**[!UICONTROL + コンポーネント]** / **[!UICONTROL フィルターを作成]** を選択します。
* **[!UICONTROL Report Builder]**: [Report Builderのフィルターの操作 ](/help/report-builder/work-with-filters.md)。

## ビルダー条件の概要 {#section_F61C4268A5974C788629399ADE1E6E7C}

ルール定義とコンテナを追加して、フィルターを定義できます。 （フィルタービルダーへのアクセス方法については、[ フィルタービルダーへのアクセス ](#access-the-filter-builder) を参照してください。

![ この節で説明している新しいフィルターオプションを表示するフィルタービルダー。](assets/segment_builder_ui_2.png)

| UI 要素 | 説明 |
| --- | --- |
| **[!UICONTROL タイトル]** | フィルターに名前を付ける |
| **[!UICONTROL 説明]** | フィルターの詳細な説明を入力します。 |
| **[!UICONTROL タグ]** | [ フィルターにタグを付ける ](/help/components/filters/manage-filters.md) 既存のタグのリストから選択するか、新しいタグを作成します。 |
| **[!UICONTROL 定義]** | ここで、フィルターの作成と設定 [、ルールの追加 ](/help/components/filters/filters-overview.md) ネストとシーケンスコンテナの作成を行います。 |
| **[!UICONTROL 含める]** | （上部のコンテナセレクター）。 最上位の [ コンテナ ](/help/components/filters/filters-overview.md) （[!UICONTROL Person]、[!UICONTROL Session]、[!UICONTROL Event]）を選択できます。 デフォルトの最上位コンテナは、イベント コンテナです。 |
| **[!UICONTROL オプション]** | （歯車）アイコン | <ul><li>**[!UICONTROL + コンテナを追加]**：新しいコンテナ（最上位コンテナの下）をフィルター定義に追加できます。</li><li>**[!UICONTROL 除外]**:1 つ以上のディメンション、フィルターまたは指標を除外してフィルターを定義できます。</li></ul> |
| **[!UICONTROL ディメンション]** | コンポーネントがDimensionリスト（オレンジ色のサイドバー）からドラッグ&amp;ドロップされます。 |
| **[!UICONTROL 演算子]** | 選択した演算子を使用して、値を比較および制限できます。 （等しい、等しくない、含む、すべてを含む、など） |
| **[!UICONTROL 値]** | ディメンション、フィルターまたは指標に対して入力または選択した値。 |
| **[!UICONTROL アトリビューションモデル]** | ディメンションでのみ使用できます。これらのモデルによって、ディメンションのどの値をフィルタリングするかが決まります。 Dimensionモデルは、順次フィルターで特に役立ちます。<ul><li>**[!UICONTROL 繰り返し]**（デフォルト）：ディメンションのインスタンスと持続値を含みます。</li><li>**[!UICONTROL インスタンス]**：ディメンションのインスタンスを含みます。</li><li>**[!UICONTROL 繰り返さないインスタンス]**：ディメンション固有の（繰り返さない）インスタンスを含みます。これは、繰り返しインスタンスが除外される場合にフローに適用されるモデルです。</li></ul>例については、以下の「アトリビューションモデル」の節を参照してください。 |
| **[!UICONTROL And/Or/Then]** | コンテナ間やルール間に [!UICONTROL AND／OR／THEN] 演算子を割り当てます。THEN 演算子を使用すると [ 順次フィルターを定義 ](/help/components/filters/filters-overview.md) できます。 |
| **[!UICONTROL 指標]** | （緑色のサイドバー）指標リストからドラッグ&amp;ドロップされた指標。 |
| **[!UICONTROL X]** | （削除） フィルター定義のこの部分を削除できます。 |
| **[!UICONTROL フィルターからオーディエンスを作成]** | フィルターからオーディエンスを作成すると、フィルターをAdobe Experience Platformと共有してアクティブ化できます。 [詳細情報...](/help/components/audiences/audiences-overview.md) |
| **[!UICONTROL 検索コンポーネント]** | ディメンション、フィルターまたは指標のリストを検索します。 |
| **[!UICONTROL ディメンション]** | （リスト）フィルターに含めることができるディメンションのリスト。 ヘッダーをクリックして展開します。 |
| **[!UICONTROL 指標]** | フィルターに含めることができる指標のリスト。 ヘッダーをクリックして展開します。 |
| **[!UICONTROL フィルター]** | フィルターに含めることができる既存のフィルターのリスト。 ヘッダーをクリックして展開します。 |
| **[!UICONTROL データビューセレクター]** | このフィルターを保存するレポートスイートを選択できます。 引き続きすべてのデータビューでフィルターを使用できます。 |
| **[!UICONTROL フィルターのプレビュー]** | 主要指標をプレビューして、有効なフィルターがあるかどうか、およびフィルターの範囲を確認できます。 このフィルターを適用したかどうかを予想できるデータセットの分類を表します。 データセットに対して実行されるフィルターに対して、3 つの同心円と、[!UICONTROL People]、[!UICONTROL Sessions]、および [!UICONTROL Reports Run] の一致の数と割合を表示するリストを表示します。<p>このグラフは、フィルター定義を作成または変更するとすぐに更新されます。 |
| **[!UICONTROL 保存]**&#x200B;または&#x200B;**[!UICONTROL キャンセル]** | フィルターを保存またはキャンセルします。 **[!UICONTROL 保存]** をクリックした後、フィルターを管理できるフィルターマネージャーが表示されます。 |

## フィルターの作成 {#build-filters}

1. Dimension、フィルターまたは指標イベントを左側のペインから「[!UICONTROL  定義 ]」フィールドにドラッグするだけです。

   ![](assets/drag_n_drop_dimension.png)

1. ドロップダウンメニューから[演算子](https://experienceleague.adobe.com/docs/analytics/components/segmentation/segment-reference/seg-operators.html?lang=ja)を設定します。
1. 選択した項目に対して値を入力または選択します。
1. 必要に応じて他のコンテナを追加し、**[!UICONTROL AND]**、**[!UICONTROL OR]**、**[!UICONTROL THEN]** のルールを適用します。
1. コンテナを配置してルールを設定したら、右上の検証グラフにフィルターの結果が表示されます。 バリデーターは、作成したフィルターに一致するページビュー数、訪問回数、一意のユーザーの割合と絶対数を示します。
1. **[!UICONTROL タグ]** の下で、既存のタグを選択するか新しいタグを作成して、コンテナを [ タグ ](/help/components/filters/filters-tag.md) します。
1. 「**[!UICONTROL 保存]**」をクリックして、フィルターを保存します。

   [ フィルターマネージャー ](/help/components/filters/manage-filters.md) に移動し、複数の方法でフィルターをタグ付け、共有、管理できます。

## 追加コンテナ {#containers}

[コンテナのフレームワークを作成](/help/components/filters/filters-overview.md)し、論理ルールと演算子を配置できます。

1. **[!UICONTROL オプション/コンテナを追加]** をクリックします。

   [!UICONTROL **イベント**] （ページビュー [!UICONTROL **が識別されずに、新しい**] イベント） コンテナが開きます。

   ![](assets/new_container.png)

1. 必要に応じて、コンテナタイプを変更します。
1. Dimension、フィルターまたはイベントを左側のペインからコンテナにドラッグします。
1. 定義の最上部にあるトップレベルの&#x200B;**[!UICONTROL オプション]**／**[!UICONTROL コンテナを追加]**&#x200B;を使用して、新しいコンテナの追加を続行するか、コンテナ内でコンテナを追加してロジックをネストします。

   **または**

   1 つ以上のルールを選択し、**[!UICONTROL オプション]**／**[!UICONTROL 選択項目からコンテナを追加]**&#x200B;をクリックします。選択した項目が別個のコンテナに変換されます。

## 日付範囲の使用 {#date-ranges}

実施中のキャンペーンやイベントに関する質問に回答するために、日付範囲の周期を含むフィルターを作成できます。

例えば、「過去 60 日間に購入を行ったすべてのユーザー」を含むフィルターを簡単に作成できます。

セッションコンテナを作成し、その中に、AND 演算子を使用して [!UICONTROL  過去 60 日間 ] の時間範囲と指標 [!UICONTROL  注文件数が 1 以上 ] を追加します。

以下は、フィルターでの周期的な日付範囲の使用に関するビデオです。

>[!VIDEO](https://video.tv.adobe.com/v/25403/?quality=12)

## フィルターを積み重ねる {#stack}

フィルターの積み重ねは、「and」演算子を使用して各フィルターの条件を組み合わせ、組み合わせた条件を適用することで機能します。 これは、Workspace プロジェクトで直接実行することも、フィルタービルダーで実行することもできます。

例えば、「携帯電話ユーザー」フィルターと「米国の地域」フィルターを積み重ねると、米国の携帯電話ユーザーのデータのみが返されます。

これらのフィルターは、ユーザーが適切に使用できるように、フィルターライブラリに含めることができる構築ブロックまたはモジュールと考えてください。 これにより、必要なフィルターの数を大幅に減らすことができます。 例えば、40 個のフィルターがあるとします。

* 各国の携帯電話ユーザー用のセグメントが 20 個（米国の携帯電話、ドイツの携帯電話、フランスの携帯電話、ブラジルの携帯電話など）
* 各国のタブレットユーザー用のセグメントが 20 個（米国のタブレット、ドイツのタブレット、フランスのタブレット、ブラジルのタブレットなど）

フィルターの積み重ねを使用すると、フィルターの数を 22 に減らし、必要に応じて積み重ねることができます。 次のフィルターを作成する必要があります。

* モバイルユーザー用の 1 つのフィルター
* タブレットユーザー用の 1 つのフィルター
* 様々な地域の 20 種類のフィルター

>[!NOTE]
>
>2 つのフィルターを積み重ねると、デフォルトでは、それらのフィルターが AND ステートメントで結合されます。 これを OR ステートメントに変更することはできません。

1. フィルタービルダーに移動します。

1. フィルターのタイトルと説明を入力します。

1. 「**[!UICONTROL フィルターを表示]**」をクリックして、フィルターのリストを左側のナビゲーションに表示します。

1. 積み重ねるフィルターをフィルター定義キャンバスにドラッグします。

1. 「[!UICONTROL **保存**]」を選択します。

## アトリビューションモデル {#attribution}

![](assets/attribution-models.jpg)

**例：EventFilter where eVar1 = A**

| 例 | A | A | A（持続） | B | A | C |
|---|---|---|---|---|---|---|
| 繰り返し | X | X | X | - | X | - |
| インスタンス | X | X | - | - | X | - |
| 繰り返しなしインスタンス | X | - | - | - | X | - |
