---
description: フィルタービルダーのキャンバスに指標Dimension、フィルターおよびイベントをドラッグ&ドロップすると、コンテナ階層のロジック、ルールおよび演算子に基づいて個人をフィルタリングできます。 この統合開発ツールを使用すると、訪問やイベントをまたいでユーザーの属性やアクションを識別する、単純なフィルターや複雑なフィルターを作成して保存できます。
title: フィルターの作成
feature: Filters
role: User
source-git-commit: c19309488e0a541b522ca6925c7ca2bdb90f2390
workflow-type: tm+mt
source-wordcount: '1255'
ht-degree: 20%

---

# フィルタービルダー

The [!UICONTROL フィルタービルダー] を使用すると、訪問やイベントをまたいでユーザーの属性やアクションを識別する、単純なフィルターや複雑なフィルターを作成できます。 指標ディメンション、イベントまたはその他のフィルターをドラッグ&amp;ドロップするキャンバスが用意されており、階層ロジック、ルールおよび演算子に基づいて個人をフィルタリングできます。

作成先のプロジェクトにのみ適用されるクイックフィルターの作成方法について詳しくは、 [クイックフィルター](/help/components/filters/quick-filters.md).

## フィルタービルダーへのアクセス

フィルタービルダーには、次のいずれかの方法でアクセスできます。

* **上部ナビゲーション**：クリック **[!UICONTROL Customer Journey Analytics]** > **[!UICONTROL コンポーネント]** > **[!UICONTROL フィルター]**.
* **[!UICONTROL Analysis Workspace]**:Analysis Workspaceでプロジェクトを開き、「 」を選択します。 **[!UICONTROL +コンポーネント]** > **[!UICONTROL フィルターを作成]**.
* **[!UICONTROL Report Builder]**: [Report Builderでのフィルターの操作](/help/report-builder/work-with-filters.md).

## ビルダー条件の概要 {#section_F61C4268A5974C788629399ADE1E6E7C}

ルールの定義とコンテナを追加して、フィルターを定義できます。 ( フィルタービルダーへのアクセスについて詳しくは、 [フィルタービルダーへのアクセス](#access-the-filter-builder).)

![この節で説明する新しいフィルターオプションが表示されるフィルタービルダー。](assets/segment_builder_ui_2.png)

| UI 要素 | 説明 |
| --- | --- |
| **[!UICONTROL タイトル]** | フィルターに名前を付けます。 |
| **[!UICONTROL 説明]** | フィルターの詳細な説明を入力します。 |
| **[!UICONTROL タグ]** | [フィルターのタグ付け](/help/components/filters/manage-filters.md) 既存のタグのリストから選択するか、新しいタグを作成して作成します。 |
| **[!UICONTROL 定義]** | ここがお客様の場所です [フィルターの作成と設定](/help/components/filters/filters-overview.md)、ルールを追加し、コンテナをネストして順に並べます。 |
| **[!UICONTROL 含める]** | （上部のコンテナセレクター）。 トップレベルを選択できます [コンテナ](/help/components/filters/filters-overview.md) ( [!UICONTROL 人物], [!UICONTROL セッション], [!UICONTROL イベント]) をクリックします。 デフォルトの最上位コンテナはイベントコンテナです。 |
| **[!UICONTROL オプション]** | （歯車）アイコン | <ul><li>**[!UICONTROL +コンテナを追加]**：新しいコンテナ（トップレベルのコンテナの下）をフィルター定義に追加できます。</li><li>**[!UICONTROL 除外]**:1 つ以上のディメンション、フィルターまたは指標を除外することで、フィルターを定義できます。</li></ul> |
| **[!UICONTROL ディメンション]** | コンポーネントが「Dimension」リスト（オレンジ色のサイドバー）からドラッグ&amp;ドロップされます。 |
| **[!UICONTROL 演算子]** | 選択した演算子を使用して値を比較および制限できます。 （等しい、等しくない、次を含む、次のすべてを含むなど） |
| **[!UICONTROL 値]** | ディメンション、フィルターまたは指標のために入力または選択した値。 |
| **[!UICONTROL アトリビューションモデル]** | ディメンションに対してのみ使用でき、これらのモデルは、フィルタリングするディメンションの値を決定します。 Dimensionモデルは、順次フィルターで特に役立ちます。<ul><li>**[!UICONTROL 繰り返し]**（デフォルト）：ディメンションのインスタンスと持続値を含みます。</li><li>**[!UICONTROL インスタンス]**：ディメンションのインスタンスを含みます。</li><li>**[!UICONTROL 繰り返さないインスタンス]**：ディメンション固有の（繰り返さない）インスタンスを含みます。これは、繰り返しインスタンスが除外される場合にフローに適用されるモデルです。</li></ul>例については、以下の「アトリビューションモデル」の節を参照してください。 |
| **[!UICONTROL And/Or/Then]** | コンテナ間やルール間に [!UICONTROL AND／OR／THEN] 演算子を割り当てます。THEN 演算子を使用すると、 [順次フィルターの定義](/help/components/filters/filters-overview.md). |
| **[!UICONTROL 指標]** | （緑色のサイドバー）指標リストからドラッグ&amp;ドロップした指標。 |
| **[!UICONTROL X]** | （削除）フィルター定義のこの部分を削除できます。 |
| **[!UICONTROL フィルターからオーディエンスを作成]** | フィルターからオーディエンスを作成すると、フィルターをAdobe Experience Platformと共有してアクティブ化できます。 [詳細情報...](/help/components/audiences/audiences-overview.md) |
| **[!UICONTROL 検索コンポーネント]** | ディメンション、フィルターまたは指標のリストを検索します。 |
| **[!UICONTROL ディメンション]** | （リスト）フィルターに含めることができるディメンションのリスト。 ヘッダーをクリックして展開します。 |
| **[!UICONTROL 指標]** | フィルターに含めることができる指標のリスト。 ヘッダーをクリックして展開します。 |
| **[!UICONTROL フィルター]** | フィルターに含めることができる既存のフィルターのリスト。 ヘッダーをクリックして展開します。 |
| **[!UICONTROL データビューセレクター]** | このフィルターを保存するレポートスイートを選択できます。 すべてのデータビューでフィルターを利用できます。 |
| **[!UICONTROL フィルタープレビュー]** | 主要指標をプレビューして、有効なフィルターがあるかどうかと、フィルターの範囲を確認します。 このフィルターを適用した場合に予想されるデータセットの分類を表します。 3 つの同心円と、一致の数と割合を示すリストを表示します [!UICONTROL People], [!UICONTROL セッション]、および [!UICONTROL レポート実行] データセットに対してフィルターを実行する場合。<p>このグラフは、フィルター定義を作成または変更するとすぐに更新されます。 |
| **[!UICONTROL 保存]**&#x200B;または&#x200B;**[!UICONTROL キャンセル]** | フィルタを保存またはキャンセルします。 クリック後 **[!UICONTROL 保存]**&#x200B;をクリックすると、フィルターを管理できるフィルターマネージャが表示されます。 |

## フィルターの作成 {#build-filters}

1. 左側のパネルからDimension、フィルターまたは指標イベントを [!UICONTROL 定義] フィールドに入力します。

   ![](assets/drag_n_drop_dimension.png)

1. ドロップダウンメニューから[演算子](https://experienceleague.adobe.com/docs/analytics/components/segmentation/segment-reference/seg-operators.html?lang=ja)を設定します。
1. 選択した項目に対して値を入力または選択します。
1. 必要に応じて他のコンテナを追加し、**[!UICONTROL AND]**、**[!UICONTROL OR]**、**[!UICONTROL THEN]** のルールを適用します。
1. コンテナを配置してルールを設定した後、右上の検証グラフでフィルターの結果を確認します。 バリデーターは、作成したフィルターに一致するページビュー数、訪問回数および個別ユーザーの割合と絶対数を示します。
1. の下 **[!UICONTROL タグ]**, [タグ](/help/components/filters/filters-tag.md) 既存のタグを選択するか、新しいタグを作成することによって、コンテナを作成できます。
1. クリック **[!UICONTROL 保存]** フィルターを保存します。

   次の場所に移動します。 [フィルターマネージャー](/help/components/filters/manage-filters.md)：複数の方法でフィルターにタグ付け、共有、管理できます。

## 追加コンテナ {#containers}

[コンテナのフレームワークを作成](/help/components/filters/filters-overview.md)し、論理ルールと演算子を配置できます。

1. クリック **[!UICONTROL オプション/コンテナを追加]**.

   新しい [!UICONTROL **イベント**] コンテナが開き、 [!UICONTROL **イベント**] （ページビュー）が特定されました。

   ![](assets/new_container.png)

1. 必要に応じて、コンテナタイプを変更します。
1. 左側のペインからDimension、フィルターまたはイベントをコンテナにドラッグします。
1. 定義の最上部にあるトップレベルの&#x200B;**[!UICONTROL オプション]**／**[!UICONTROL コンテナを追加]**&#x200B;を使用して、新しいコンテナの追加を続行するか、コンテナ内でコンテナを追加してロジックをネストします。

   **または**

   1 つ以上のルールを選択し、**[!UICONTROL オプション]**／**[!UICONTROL 選択項目からコンテナを追加]**&#x200B;をクリックします。選択した項目が別個のコンテナに変換されます。

## 日付範囲の使用 {#date-ranges}

実施中のキャンペーンやイベントに関する質問に回答するために、日付範囲の周期を含むフィルターを作成できます。

例えば、「過去 60 日間に購入したすべてのユーザー」を含むフィルターを簡単に作成できます。

セッションコンテナを作成し、その中に [!UICONTROL 過去 60 日間] 時間範囲と指標 [!UICONTROL 注文が 1 以上です]に、AND 演算子を付けます。

次に、フィルターでの周期的な日付範囲の使用に関するビデオを示します。

>[!VIDEO](https://video.tv.adobe.com/v/25403/?quality=12)

## フィルターを積み重ねる {#stack}

フィルターを積み重ねると、各フィルターの条件を「and」演算子で結合し、結合された条件を適用することで機能します。 これは、Workspace プロジェクトで直接実行するか、フィルタービルダーで実行できます。

例えば、「携帯電話ユーザー」フィルターと「米国の地域」フィルターを積み重ねると、米国の携帯電話ユーザーのデータのみが返されます。

これらのフィルターは、フィルターライブラリに組み込むことができる構成要素またはモジュールと考え、ユーザーが自由に使用できるようにします。 これにより、必要なフィルターの数を大幅に減らすことができます。 例えば、次の 40 個のフィルターがあるとします。

* 各国の携帯電話ユーザー用のセグメントが 20 個（米国の携帯電話、ドイツの携帯電話、フランスの携帯電話、ブラジルの携帯電話など）
* 各国のタブレットユーザー用のセグメントが 20 個（米国のタブレット、ドイツのタブレット、フランスのタブレット、ブラジルのタブレットなど）

フィルターの積み重ねを使用すると、フィルターの数を 22 個に減らし、必要に応じて積み重ねることができます。 次のフィルターを作成する必要があります。

* モバイルユーザー用の 1 つのフィルター
* タブレットユーザー用の 1 つのフィルター
* さまざまな地域に対して 20 個のフィルター

>[!NOTE]
>
>2 つのフィルターを積み重ねると、デフォルトで、それらのフィルターが AND ステートメントで結合されます。 これを OR ステートメントに変更することはできません。

1. フィルタービルダーに移動します。

1. フィルターのタイトルと説明を入力します。

1. クリック **[!UICONTROL フィルターを表示]** をクリックして、左のナビゲーションにフィルターのリストを表示します。

1. 積み重ねるフィルターをフィルター定義キャンバスにドラッグします。

1. 「[!UICONTROL **保存**]」を選択します。

## アトリビューションモデル {#attribution}

![](assets/attribution-models.jpg)

**例：eVar1 = A のイベントフィルター**

| 例 | A | A | A（持続） | B | A | C |
|---|---|---|---|---|---|---|
| 繰り返し | X | X | X | - | X | - |
| インスタンス | X | X | - | - | X | - |
| 繰り返しなしインスタンス | X | - | - | - | X | - |
