---
title: データレイヤーの作成
description: データビューの作成や編集を行うために調整できるすべての設定。
exl-id: 02494ef6-cc32-43e8-84a4-6149e50b9d78,35cbf69c-e1e5-4cf0-9bb4-6105d3e4c78e
source-git-commit: 86522f1ea5ae241351514d954672ec5fd7990944
workflow-type: tm+mt
source-wordcount: '774'
ht-degree: 81%

---

# データレイヤーの作成

データビューを作成するには、スキーマ要素から指標やディメンションを作成するか、標準コンポーネントを使用する必要があります。ほとんどのスキーマ要素は、ビジネスの要件に応じて、ディメンションまたは指標のいずれかになります。 スキーマ要素をデータビューにドラッグすると、右側にオプションが表示され、CJAでのディメンションや指標の動作を調整できます。

## データビューの設定とコンテナを構成する

1. Customer Journey Analytics で、「**[!UICONTROL データビュー]**」タブに移動します。
2. 「**[!UICONTROL 追加]**」をクリックして新しいデータビューを作成し、その設定を行います。

![新規データビュー](assets/new-data-view.png)

| 設定 | 説明／使用例 |
| --- | --- |
| [!UICONTROL 接続] | このフィールドは、データビューを、以前確立した接続（1 つ以上の Adobe Experience Platform データセットを含む）にリンクします。 |
| [!UICONTROL 名前] | データビューに名前を付ける必要があります。 |
| [!UICONTROL 説明] | 詳細な説明は必須ではありませんが、推奨します。 |
| [!UICONTROL タイムゾーン] | データを表示するタイムゾーンを選択します。 |
| [!UICONTROL タグ] | [!UICONTROL タグを使用すると、データビューをカテゴリ別に整理できます。] |
| [!UICONTROL コンテナ] | ここでコンテナの名前を変更できます。このデータビューに基づく Workspace プロジェクトで、コンテナはこの名前で表示されます。 [!UICONTROL コンテナ]はフィルターやフォールアウト／フローなどで、範囲やコンテキストの広さや狭さを定義するのに使用されます。 [詳細情報](https://experienceleague.adobe.com/docs/analytics-platform/using/cja-components/cja-filters/filters-overview.html?lang=ja#filter-containers) |
| [!UICONTROL 個人コンテナ名は…] | [!UICONTROL 個人]（デフォルト）。[!UICONTROL 個人]コンテナには、指定期間内に発生した訪問者による訪問とページビューがすべて含まれます。このコンテナの名前は「ユーザー」またはその他の任意の言葉に変更できます。 |
| [!UICONTROL セッションコンテナ名は…] | [!UICONTROL セッション]（デフォルト）。[!UICONTROL セッション]コンテナでは、特定のセッションのページインタラクション、キャンペーンまたはコンバージョンを識別できます。このコンテナの名前は「訪問」またはその他の任意の言葉に変更できます。 |
| [!UICONTROL イベントコンテナ名は…] | [!UICONTROL イベント]（デフォルト）。[!UICONTROL イベント]コンテナは、フィルターに含めるまたはフィルターから除外するページイベントを定義します。 |

次に、スキーマ要素から指標やディメンションを作成できます。標準コンポーネントも使用できます。

## スキーマ要素から指標およびディメンションを作成する

1. [!UICONTROL Customer Journey Analytics]／[!UICONTROL データビュー]で、「[!UICONTROL コンポーネント]」タブをクリックします。

![「コンポーネント」タブ](assets/components-tab.png)

データセットを含む「[!UICONTROL 接続]」が左上に表示され、その「[!UICONTROL スキーマフィールド]」が下に表示されます。次の点に注意してください。

* 既に含まれているコンポーネントは、（システムにより生成された）標準の必須コンポーネントです。
* また、デフォルトで「**[!UICONTROL データを含む]**」フィルターを適用して、データを含むスキーマフィールドのみ表示されるようにします。 データを含まないフィールドを探している場合は、フィルターを削除します。

1. 次に、[!UICONTROL pageTitle]などのスキーマフィールドを左側のパネルから「指標」セクションまたは「ディメンション」セクションにドラッグします。

   同じスキーマフィールドをディメンションまたは指標セクションに複数回ドラッグし、同じディメンションまたは指標を異なる方法で設定できます。例えば、**[!UICONTROL pageTitle]** フィールドから、右側の&#x200B;**[!UICONTROL コンポーネント名]**&#x200B;の名前を変更することで、「製品ページ」というディメンションを作成したり、「エラーページ」というディメンションを作成したりできます。 **[!UICONTROL pageTitle]** フィールドの文字列値から指標を作成することもできます。例えば、異なるアトリビューション設定と異なる「含む / 除外する値」を持つ&#x200B;**[!UICONTROL 注文件数]**&#x200B;指標を 1 つ以上作成できます。

   ![タブ3](assets/components-tab-3.png)

   >[!NOTE]
   >
   >スキーマフィールドフォルダー全体を左側のレールからドラッグすると、従来のセクションに自動的に並べ替えられます。 文字列フィールドは、[!UICONTROL Dimension]セクションで終わり、[!UICONTROL 指標]セクションで数値が表示されます。 または、「**[!UICONTROL すべての]**&#x200B;を追加」をクリックすると、すべてのスキーマフィールドが追加されます。

1. コンポーネントを選択すると、右側に多数の設定が表示されます。以下の設定を使用して、コンポーネントを構成します。

## [!UICONTROL 複製]機能を使用します

指標またはディメンションを複製してから特定の設定を変更すると、1 つのスキーマフィールドから複数の指標またはディメンションを簡単に作成できます。右上の指標またはディメンションの名前の下にある「[!UICONTROL 複製]」設定を選択します。次に、新しい指標またはディメンションを変更し、わかりやすい名前で保存します。

![複製](assets/duplicate.png)

## フィルタースキーマフィールドおよびディメンション／指標

左側のパネルのスキーマフィールドは、次のデータタイプでフィルタリングできます。

![フィールドのフィルター](assets/filter-fields.png)

また、データセットによって、およびデータがスキーマフィールドに含まれているか、またはデータが ID であるかによって、フィルタリングすることもできます。 デフォルトでは、「**[!UICONTROL データを含む]**」フィルターをすべてのデータビューに適用します。

![その他のフィルター](assets/filter-other.png)

## データビューへのグローバルフィルターの追加

データビュー全体に適用するフィルターを追加できます。 このフィルターは、Workspaceで実行するすべてのレポートに適用されます。

1. [!UICONTROL データビュー]の「[!UICONTROL 設定]」タブをクリックします。
1. 左側のパネルのリストから「「[!UICONTROL フィルターを追加]」フィールドにフィルターをドラッグします。
