---
title: サブ文字列コンポーネント設定
description: 文字列のサブセットをディメンション項目として使用します。
solution: Customer Journey Analytics
feature: Data Views
exl-id: a763027e-68f7-4f0a-8082-85db5283c8e3
source-git-commit: e1d8cffac907e1043d18b1939585108ce95a0fda
workflow-type: tm+mt
source-wordcount: '907'
ht-degree: 7%

---

# [!UICONTROL Substring] コンポーネント設定

[!UICONTROL Substring] コンポーネント設定を使用すると、複数の文字列操作メソッドを実行して、レポート内の目的のディメンション項目を取得できます。

[!UICONTROL Substring] は、ディメンションに対してのみ使用でき、適用されるデータに遡って適用されます。 フィルタリングや他の分析操作が適用される前に発生する即時のデータ変換です。

![Substring 設定](../assets/substring-settings.png)

## 左/右から

文字列の先頭または末尾までの位置に基づいて、文字列の一部を取ります。 **[!UICONTROL 左から]** および **[!UICONTROL 右から]** メソッドには 2 つのドロップダウンがあります。 **[!UICONTROL 送信者]** （出力が開始する場所）および **[!UICONTROL 宛先]** （出力が終了する場所）。

* **[!UICONTROL 文字列の開始]**:文字列の開始。
* **[!UICONTROL 文字列の終了]**:文字列の末尾。
* **[!UICONTROL 位置]**:メソッドに応じて、左または右からの静的な文字数。
* **[!UICONTROL 文字列]**:文字列の先頭または末尾を示す文字または一連の文字に一致します。 このドロップダウンには、その他のオプションも表示されます。
   * **[!UICONTROL 一致]**:照合する文字列です。 入力がこのフィールドと一致しない場合、 [値オプションなし](no-value-options.md) 適用されます。
   * **[!UICONTROL 索引]**:この **[!UICONTROL 一致]** 条件は、文字列内に複数回存在することができます。 この整数は、メソッドに応じて、出力を開始または終了する一致を決定します。 例えば、 `1` は、最初の一致を表します。 インデックスが使用可能な一致数より大きい場合、 [値オプションなし](no-value-options.md) 適用されます。
   * **[!UICONTROL 文字列を含める]**:を含むチェックボックス **[!UICONTROL 一致]** 文字列が有効な場合は、出力に含まれます。
* **[!UICONTROL 長さ]**:出力の開始位置の後に含める文字数を指定する整数。 以下でのみ使用可能： **[!UICONTROL 宛先]** ドロップダウン。

## 区切り

区切り文字を使用して複数の文字列値を区切るフィールドに対しては、このメソッドを使用します。 個々の要素を抽出して出力として使用するか、文字列をオブジェクト配列スキーマ要素に変換できます。

* **[!UICONTROL 条件]**:区切られた値のリストの処理方法です。
   * **[!UICONTROL 左から]**:区切りリストの先頭から開始し、カウントを進めます。
   * **[!UICONTROL 右から]**:区切り文字付きリストの末尾から開始し、前の位置にカウントします。
   * **[!UICONTROL 配列に変換]**:このディメンションを、オブジェクト配列スキーマ要素であるかのように扱います。
* **[!UICONTROL 区切り]**:フィールドで使用される区切り文字。
* **[!UICONTROL 索引]**:条件が「左から」または「右から」の場合にのみ表示されます。 配列内にあるかのような要素番号。 例えば、文字列入力が `"Fox,Turtle,Rabbit,Wolf"` インデックスが 3 の場合、出力は `"Rabbit"`. インデックスが区切り文字付き要素の数より大きい場合、 [値オプションなし](no-value-options.md) 適用されます。

## URL 解析

URL を含むフィールドで使用します。 サンプル URL の使用 `https://example.com/store/index.html?cid=campaign#cart`に設定する場合、次のオプションを使用できます。

* **[!UICONTROL プロトコルを取得]**:URL のプロトコルを取得します。 例：`"https://"`。
* **[!UICONTROL ホストを取得]**:URL のホストを取得します。 例：`"example.com"`。
* **[!UICONTROL パスを取得]**:URL のパスを取得します。 例：`"store/index.html"`。
* **[!UICONTROL クエリー文字列値を取得]**:単一のクエリ文字列から値を取得します。 目的のクエリー文字列パラメーターを **[!UICONTROL クエリキー]** フィールドに入力します。 上記の URL が `"cid"` クエリキー、出力は `"campaign"`.
* **[!UICONTROL ハッシュ値を取得]**:URL のハッシュ値を取得します。 例：`"cart"`。

入力が有効な URL ではない場合、または目的の URL コンポーネントが存在しない場合は、 [値オプションなし](no-value-options.md) 適用されます。

## Trim

文字列から空白文字または特殊文字をトリミングします。

* **[!UICONTROL 空白をトリミング]**:有効化されている場合に、文字列の先頭と末尾の空白をすべて削除するチェックボックス。
* **[!UICONTROL 特殊文字をトリミングする]**:チェックボックスを表示します。 **[!UICONTROL 特殊文字]** 有効な場合は入力フィールド。 このフィールド内のすべての文字が出力から削除されます。 2 バイト文字はサポートされていません。

## Regex

ディメンションに正規表現を適用して、目的の値を取得します。

* **[!UICONTROL 正規表現]**:正規表現式。
* **[!UICONTROL 出力形式]**:テキストを追加したり、正規表現サブグループの出力を並べ替えたりできるオプションのフィールドです。 このフィールドが空白の場合、評価された正規表現式が文字列出力になります。
* **[!UICONTROL 大文字と小文字を区別]**:有効にした場合に正規表現で大文字と小文字が区別されるようにするチェックボックス。

CJA は、Perl 正規表現構文のサブセットを使用します。 入力が正規表現と **[!UICONTROL 出力形式]** が空白の場合は、 [値オプションなし](no-value-options.md) 適用されます。 以下の式がサポートされています。

| 式 | 説明 |
| --- | --- |
| `a` | 1 文字 `a`. |
| `a|b` | 1 文字 `a` または `b`. |
| `[abc]` | 1 文字 `a`, `b`または `c`. |
| `[^abc]` | 次を除く 1 文字 `a`, `b`または `c`. |
| `[a-z]` | 次の範囲内の 1 文字 `a`-`z`. |
| `[a-zA-Z0-9]` | 次の範囲内の 1 文字 `a`-`z`, `A`-`Z`、または数字 `0`-`9`. |
| `^` | 行の先頭に一致します。 |
| `$` | 行の末尾に一致します。 |
| `\A` | 文字列の開始. |
| `\z` | 文字列の末尾. |
| `.` | 任意の文字に一致します。 |
| `\s` | 空白文字. |
| `\S` | 空白以外の文字. |
| `\d` | 数字. |
| `\D` | 数字以外. |
| `\w` | 任意の文字、数字、アンダースコア。 |
| `\W` | 任意の単語以外の文字. |
| `\b` | 任意の単語境界. |
| `\B` | 単語の境界ではない文字。 |
| `\<` | 単語の開始。 |
| `\>` | 単語の終わり。 |
| `(...)` | 囲まれている内容をすべてキャプチャ. |
| `(?:...)` | 非マークキャプチャ。 出力文字列で一致が参照されないようにします。 |
| `a?` | 0 または 1 個の `a`. |
| `a*` | 0 個以上の `a`. |
| `a+` | もう 1 つ `a`. |
| `a{3}` | 3 / `a`. |
| `a{3,}` | 3 個以上 `a`. |
| `a{3,6}` | 3 ～ 6/ `a`. |

出力プレースホルダーもサポートされています。 これらのシーケンスは、 **[!UICONTROL 出力形式]** 必要な文字列出力を実現するために、任意の回数および順序で。

| 出力プレースホルダーシーケンス | 説明 |
| --- | --- |
| `$&` | 式全体に一致する値を出力します。 |
| `$n` | n 番目のサブ式に一致する値を出力します。 例： `$1` 最初のサブ式を出力します。 |
| ``$` `` | 検索された最後の一致の終わり（前回の一致が見つからなかった場合はテキストの開始）と現在の一致の開始の間のテキストを出力します。 |
| `$+` | 正規表現で最後にマークされたサブ式に一致するものを出力します。 |
| `$$` | 文字列を出力します `"$"`. |

以下に、バインディングDimensionに関するビデオを示します。

>[!VIDEO](https://video.tv.adobe.com/v/342694/?quality=12)
