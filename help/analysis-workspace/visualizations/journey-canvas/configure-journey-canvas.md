---
description: ジャーニーキャンバスビジュアライゼーションの設定
title: ジャーニーキャンバス
feature: Visualizations
role: User
hide: true
hidefromtoc: true
exl-id: 53984934-6fba-4f15-aeeb-d91039260553
source-git-commit: c94544baf4c934b16b2fc9ce837dd41e07a3dcac
workflow-type: tm+mt
source-wordcount: '5141'
ht-degree: 1%

---

# ジャーニーキャンバスビジュアライゼーションの設定

{{release-limited-testing}}

ジャーニーキャンバスのビジュアライゼーションを使用すると、ユーザーや顧客に提供するジャーニーを分析し、深いインサイトを得ることができます。

## ジャーニーキャンバスの概要

ジャーニーキャンバスについて詳しくは ](/help/analysis-workspace/visualizations/journey-canvas/journey-canvas.md)[ジャーニーキャンバスの概要を参照してください。

* 主な特長

* 潜在的なインサイト

* ジャーニーキャンバスとフォールアウトの違い

* Journey Optimizer ジャーニー分析の詳細

* さらに件

## ジャーニーキャンバスビジュアライゼーションの作成を開始

1. プロジェクトに空のパネルを追加し、左側のパネルで [!UICONTROL **ビジュアライゼーション**] アイコンを選択してから、[!UICONTROL **ジャーニーキャンバス**] ビジュアライゼーションをパネルにドラッグします。

   または

   「[ ビジュアライゼーションの概要 ](/help/analysis-workspace/visualizations/freeform-analysis-visualizations.md) の [ パネルへのビジュアライゼーションの追加 ](/help/analysis-workspace/visualizations/freeform-analysis-visualizations.md#add-visualizations-to-a-panel) の節で説明されている任意の方法で、ジャーニーのキャンバスビジュアライゼーションを追加します。

1. 次の基本情報を指定します。

   | フィールド | 関数 |
   |---------|----------|
   | [!UICONTROL **プライマリ指標**] | 主要指標は、ジャーニーキャンバスビジュアライゼーションの次の側面に影響します。  <ul><li>ジャーニーの進行状況を定義します。</li><li>各ノードに表示される合計数。<p>例えば、主要指標がユーザーであれば、各ノードはジャーニーのそのノードに到達したユーザーの数を示します。</p></li><li>各ノードに表示されるパーセンテージ。 （ビジュアライゼーションが構築されたら、合計に対する割合または開始ノードに対する割合を選択できます）。</li><p>例えば、主要指標がユーザーである場合、各ノードはジャーニーのそのノードに到達したユーザーの割合（合計の割合または開始ノードの割合）を示します。</p></li><li>ディメンションがビジュアライゼーションに追加されると、プライマリ指標に基づいて、ビジュアライゼーションの上位 3 ノードが追加されます。</li></ul> |
   | [!UICONTROL **セカンダリ指標**] | セカンダリ指標はオプションです。 1 つを選択すると、プライマリ指標の下にある各ノードに次の情報が表示されます。 <ul><li>合計数<p>例えば、セッションがセカンダリ指標の場合、各ノードは、ジャーニーでそのノードに到達したセッション数を示します。</p></li><li>割合（ビジュアライゼーションが作成されたら、合計の割合または開始ノードの割合のいずれかを選択できます）。</li><p>例えば、セッションがセカンダリ指標の場合、各ノードは、ジャーニーでそのノードに到達したセッションの割合（合計の割合または開始ノードの割合）を示します。</p></li></ul> |
   | [!UICONTROL **Journey Optimizer ジャーニー**]<!-- name? --> | ジャーニーキャンバスでの分析の基礎として使用するJourney Optimizer ジャーニーを選択します。 （または、Analysis Workspace内で分析を構築する空白のキャンバスが必要な場合、このオプションを空白のままにすることもできます。）</p> <p>ジャーニーキャンバスでJourney Optimizer ジャーニーを分析すると、ジャーニーは、Journey Optimizerの場合と同じ順序、順序、構造で表示されます。 詳しくは、[ジャーニーキャンバスの概要 [ の ](/help/analysis-workspace/visualizations/journey-canvas/journey-canvas.md#analyze-journey-optimizer-journeys)Journey Optimizer ジャーニーの分析 ](/help/analysis-workspace/visualizations/journey-canvas/journey-canvas.md) を参照してください。</p><p>**メモ**：このオプションは、ビジュアライゼーションを追加しているJourney Optimizer パネルで選択したのと同じデータビューでAnalysis Workspace データが検出された場合にのみ表示されます。 Analysis Workspaceのパネル上のデータビューの変更について詳しくは、[Analysis Workspaceの概要 ](/help/analysis-workspace/home.md) を参照してください。</p> |

1. （オプション）「[!UICONTROL **詳細設定を表示**]」を選択して、次の情報を指定します。

   | フィールド | 関数 |
   |---------|----------|
   | [!UICONTROL **ジャーニー キャンバス コンテナー**] | ジャーニー全体を通してフォーカスするコンテナを選択します。 選択するコンテナによって、ビジュアライゼーションに表示される統計が決まります。 （コンテナ名が以下に示すデフォルト名と異なる場合は、データビューでカスタマイズされています）。<ul><li>**セッション：** ビジュアライゼーションの統計が、特定のユーザーに対して定義された単一のセッション内に収まるように制限します。 つまり、各ノードに表示される数値と割合（プライマリ指標とセカンダリ指標に基づく）は、各ユーザーに対して単一のセッション内で発生する必要があります。</li><li>**人物：** 特定のユーザーに対して複数のセッションにわたるビジュアライゼーションの統計を許可します。 つまり、各ノードに表示される数値と割合（プライマリ指標とセカンダリ指標に基づく）は、セッションが同じ人物に属している限り、任意の数のセッションで発生する可能性があります。 これがデフォルト設定です。</li></ul> |

1. 「[!UICONTROL **作成**]」を選択します。

   Journey Optimizerがあり、Journey Optimizer ジャーニーを選択した場合、ジャーニーは、Journey Optimizerと同じ順序、順序、構造で表示されます。

   <!-- add screen shot -->

   Journey Optimizerがない場合、またはJourney Optimizer ジャーニーを選択しなかった場合は、ジャーニーの入力を開始できる空白のキャンバスが表示されます。

   <!-- add screen shot -->

1. 空のキャンバスから新しい分析を作成している場合でも、Journey Optimizer ジャーニーを分析している場合でも、[ ビジュアライゼーション設定の指定 ](#configure-visualization-settings) に記載されている方法でジャーニーを設定できます。


## ビジュアライゼーション設定を指定

ジャーニーキャンバスヘッダーでは、様々な設定オプションを使用できます。

ジャーニーキャンバスビジュアライゼーションの設定を指定するには：

1. Analysis Workspaceで、既存のジャーニーキャンバスビジュアライゼーションを開くか、[ 新しいビジュアライゼーションの作成を開始 ](#begin-building-a-journey-canvas-visualization) します。

   ジャーニーキャンバスのビジュアライゼーションを設定できるオプションは、ヘッダーで利用できます。

   ![ジャーニー キャンバス ヘッダーオプション ](assets/journey-canvas-header.png)

1. ビジュアライゼーションの上部に表示される次の設定を行います。

   | 設定 | 関数 |
   |---------|----------|
   | [!UICONTROL **ノードタイプ**] | ビジュアライゼーションに表示するノードタイプを設定できます。 ビジュアライゼーションでノードタイプを非表示にするには、ノードタイプの横にある「x」を選択するか、ドロップダウンメニューから選択を解除します。 非表示のノードタイプを表示するには、ドロップダウンメニューから選択します。 <p>ビジュアライゼーションの内容に応じて、次のようなノードタイプが考えられます。</p><ul><li>[!UICONTROL **セグメントを読み取り**]</li><li>[!UICONTROL **終了**]</li><li>[!UICONTROL **ディメンション**]</li><li>[!UICONTROL **指標**]</li></ul><p>**メモ**：このフィールドを使用する場合は、次の点に注意してください。</p><ul><li>このオプションは、ビジュアライゼーションを追加しているJourney Optimizer パネルで選択したのと同じデータビューでAnalysis Workspace データが検出された場合にのみ表示されます。 Analysis Workspaceのパネル上のデータビューの変更について詳しくは、[Analysis Workspaceの概要 ](/help/analysis-workspace/home.md) を参照してください。</li><li>ジャーニーキャンバスでJourney Optimizer ジャーニーを変更すると、このオプションは使用できなくなります。 詳しくは、[ジャーニーキャンバスでジャーニーを変更した後の視覚的な違い ](/help/analysis-workspace/visualizations/journey-canvas/journey-canvas.md#visual-differences-after-modifying-a-journey-in-journey-canvas) を参照してください</li><li>ノードを非表示にしても、ジャーニーから削除されません。 ノードの削除方法について詳しくは、[ ノードの削除 ](#delete-nodes) を参照してください。</li></ul></p> |
   | [!UICONTROL **パーセンテージ値**] | 次のオプションから選択します。 <ul><li>[!UICONTROL **合計の割合**]：パネルの日付範囲内でデータビューに含まれるすべての人物の割合。</li><li>[!UICONTROL **開始ノードの割合**]：パネルの日付範囲内でデータビューに含まれ、ジャーニーの開始ノードの条件も満たす、すべての人物の割合。 （このオプションは、開始ノードが 1 つのジャーニーでのみ使用できます。複数の開始ノードを持つジャーニーでは無効になります。 開始ノードは、接続が入っていないすべてのノードと定義されます）。</li></ul> |
   | [!UICONTROL **矢印の設定**] | ジャーニーキャンバスのノード間に表示される矢印には、カスタム名、Journey Optimizer ラベル、Journey Optimizer条件を含めることができます。 表示するオプションを次の中から選択します。<ul><li>[!UICONTROL **なし**]:ジャーニーキャンバスの矢印に、カスタム名、Journey Optimizer ラベルまたはJourney Optimizer条件が表示されません。 </li><li>[!UICONTROL **条件**]:Journey Optimizerで設定された条件ラベルが、ジャーニーキャンバスの矢印に表示されます。 カスタム名やその他のJourney Optimizer ラベルは表示されません。</li><li>[!UICONTROL **すべてのラベル**]：矢印にカスタムの名前、ラベル、条件が含まれている場合、ジャーニーキャンバスの矢印に表示されます。 矢印ごとに、次の優先順で 1 つの名前、ラベル、または条件のみが表示されます。 <ol><li>ジャーニーキャンバスから追加されたカスタム名（「[ ノードまたは矢印の名前を変更 ](#rename-a-node-or-arrow)」で説明）</li><li>Journey Optimizer ラベル</li><li>Journey Optimizerの条件</li></ol></li></ul><p>**メモ**：このオプションは、ビジュアライゼーションを追加しているJourney Optimizer パネルで選択したのと同じデータビューでAnalysis Workspace データが検出された場合にのみ表示されます。 Analysis Workspaceのパネル上のデータビューの変更について詳しくは、[Analysis Workspaceの概要 ](/help/analysis-workspace/home.md) を参照してください。</p> |
   | [!UICONTROL **フォールアウトを表示**] | 各ノードのフォールアウトデータを表示します。 これは、特定のノードの後にジャーニーを離れたユーザーの数と割合を示します。 <p>ジャーニーから外れたユーザーは、サイトで他のアクションを実行した可能性がありますが、ジャーニーの次のノードで定義された条件を満たしたことはありません。</p> |
   | **ズームコントロール** | キャンバスの右上隅には、次のズームコントロールが用意されています。<ul><li>**ズームイン**![ ズームインアイコン ](assets/zoom-in-icon.png)：ビジュアライゼーションの特定の領域を拡大します。<p>トラックパッドをつまむなどのマウスコントロールを使用することもできます。</p></li><li>**ズームアウト**![ ズームアウトアイコン ](assets/zoom-out-icon.png)：キャンバスに広い領域ができるようにビジュアライゼーションを縮小します。<p>トラックパッドをつまむなどのマウスコントロールを使用することもできます。</p></li><li>**画面に合わせる**![ 画面に合わせるアイコン ](assets/fill-screen-icon.png)：現在のズームとパンの設定を調整して、画面を完全にビジュアライゼーションで埋めます。</li></ul><p>ズームインまたはズームアウトした後にキャンバス上でパンするには、マウスをクリックして目的の場所にドラッグします。</p> |

1. [ ノードを追加 ](#add-nodes) を続行します。

## ノードを追加

ジャーニーキャンバスビジュアライゼーションのノードは、ユーザージャーニーのイベントまたはアクションを表します。

ノードを作成するには、左側のパネルからWorkspace コンポーネントをキャンバスにドラッグするか、既存のノードに基づいてジャーニーキャンバスに上位の次または前のノードを選択させるか、既存のノードを複製します。

### 左パネルからコンポーネントをドラッグします

1. Analysis Workspaceで、既存のジャーニーキャンバスビジュアライゼーションを開くか、[ 新しいビジュアライゼーションの作成を開始 ](#begin-building-a-journey-canvas-visualization) します。

1. 左パネルから指標、ディメンション、ディメンション項目、フィルターまたは日付範囲をキャンバスにドラッグします。 [ 派生フィールド ](/help/data-views/derived-fields/derived-fields.md) に基づく指標がサポートされます。 ただし、計算指標や、[ 概要データセット ](/help/data-views/summary-data.md) に基づく指標またはディメンションはサポートされていません。

   左側のパネルで複数のコンポーネントを選択するには、Shift キーを押すか、Command キー（Macの場合）または Ctrl キー（Windows の場合）を押します。

   コンポーネントのタイプとキャンバスの配置領域に応じて、ビジュアライゼーションは次のように更新されます。

   | コンポーネントの種類 | コンポーネントの配置 | ノードの追加後にビジュアライゼーションが更新される |
   |---------|----------|----------|
   | 指標 | キャンバスの空白領域 | ノードには、コンポーネントがドロップされ、既存のノードとの接続が解除された場所が表示されます。 |
   | 指標 | 既存のノード | コンポーネントは、既存のノードと自動的に組み合わされます。 （詳しくは、[ ノードの組み合わせ ](#combine-nodes) を参照してください）。</p> |
   | 指標 | 2 つの既存のノード間の矢印 | ノードは、コンポーネントがドロップされ、既存の両方のノードに接続されている 2 つの既存のノード間に表示されます。 （詳しくは、[ ノードの接続 ](#connect-nodes) を参照してください）。</p> |
   | ディメンション | キャンバスの空白領域 | コンポーネントがドロップされ、既存のノードと接続されていない上位 3 つのディメンション項目に対して、3 つのノードが作成されます。 （**メモ：** ノードが 1 個または 2 個しか表示されない場合は、データを使用できるのはディメンション項目の 1 個または 2 個のみであることを意味します。 ノードが表示されない場合は、どのディメンション項目でもデータを使用できないことを意味します。 この場合は、ジャーニーの別のポイントに追加してみるか、ビジュアライゼーションの日付範囲を調整するか、別のディメンションを選択します）。<p>ディメンションをキャンバスにドロップして、3 つのディメンション項目を持つ単一のノードとして追加するには、Shift キーを押したままにします。</p><p></p> |
   | ディメンション | 既存のノード | 分類は、上位 5 つのディメンション項目が表示されたノードに自動的に適用されます。<!--what happens if you hold Shift?--><p>新しいフリーフォームテーブルビジュアライゼーションで分類を表示するには、ノードの [!UICONTROL **フリーフォームテーブルで開く**] リンクを選択します。</p> |
   | ディメンション | 2 つの既存のノードを接続する矢印 | 最初のノードの後の最初のイベントに続く上位 3 つのディメンション項目（最終的に 2 番目のノードに到達する人物/セッションの）に対して、3 つのノードが作成されます。 ノードは、コンポーネントがドロップされた 2 つの既存のノードの間に表示され、各ノードは両方の既存のノードに接続されています。 （**メモ：** ノードが 1 個または 2 個しか表示されない場合は、データを使用できるのはディメンション項目の 1 個または 2 個のみであることを意味します。 ノードが表示されない場合は、どのディメンション項目でもデータを使用できないことを意味します。 この場合は、ジャーニーの別のポイントに追加してみるか、ビジュアライゼーションの日付範囲を調整するか、別のディメンションを選択します）。<p>ディメンションをキャンバスにドロップして、3 つのディメンション項目を持つ単一のノードとして追加するには、Shift キーを押したままにします。 （詳しくは、[ ノードの接続 ](#connect-nodes) を参照してください）。</p> |
   | ディメンション項目 | キャンバスの空白領域 | ノードには、コンポーネントがドロップされ、既存のノードとの接続が解除された場所が表示されます。 |
   | ディメンション項目 | 既存のノード | コンポーネントは、既存のノードと自動的に組み合わされます。 |
   | ディメンション項目 | 2 つの既存のノードを接続する矢印 | ノードは、コンポーネントがドロップされ、既存の両方のノードに接続されている 2 つの既存のノード間に表示されます。 （詳しくは、[ ノードの接続 ](#connect-nodes) を参照してください）。</p> |
   | フィルター | キャンバスの空白領域 | ノードには、コンポーネントがドロップされ、他のノードと接続されていなかった場所が表示されます。<p>ノードに表示される数と割合には、プライマリ指標の合計が含まれ、選択したフィルターでフィルタリングされます。</p> <p>例えば、ジャーニーのプライマリ指標として「人物」を選択した場合、キャンバスの空白の領域に「今日」のフィルターを追加すると、今日イベントを受け取ったすべての人物が表示されます。</p> |
   | フィルター | 既存のノード | 既存のノードにフィルターを適用します。 |
   | フィルター | 2 つのノードを接続する矢印 | ノードは、コンポーネントがドロップされ、既存の両方のノードに接続されている 2 つの既存のノード間に表示されます。 （詳しくは、[ ノードの接続 ](#connect-nodes) を参照してください）。</p><p>コンポーネントがドロップされたパス上のポイントにフィルターを適用します。</p> |
   | 日付範囲 | キャンバスの空白領域 | ノードには、コンポーネントがドロップされ、他のノードとの接続が解除された場所が表示されます。<p>ノードに表示される数と割合には、プライマリ指標の合計が含まれ、選択した日付範囲でフィルタリングされます。</p> <p>例えば、ジャーニーのプライマリ指標として「人物」を選択した場合は、キャンバスの空白の領域に「今月」の日付範囲を追加すると、当月中にイベントを発生したすべての人物が表示されます。</p> |
   | 日付範囲 | 既存のノード | 既存のノードに日付範囲を適用します。 |
   | 日付範囲 | 2 つのノードを接続する矢印 | ノードは、コンポーネントがドロップされ、既存の両方のノードに接続されている 2 つの既存のノード間に表示されます。 （詳しくは、[ ノードの接続 ](#connect-nodes) を参照してください）。</p><p>コンポーネントがドロップされたパス上のポイントに日付範囲を適用します。</p> |
   | 複数のコンポーネント | キャンバスの空白領域 | **どのコンポーネントも寸法でない場合：**<p>各コンポーネントは、コンポーネントがドロップされ、既存のノードと接続されていない個別のノードとして表示されます。</p><p>コンポーネントをキャンバスにドロップして、1 つの結合ノードとして追加するには、Shift キーを押しながらコンポーネントをドラッグします。 </p><p>**追加するコンポーネントのいずれかが寸法の場合：**</p><p>各コンポーネントは、コンポーネントがドロップされ、既存のノードと接続されていない個別のノードとして表示されます。</p><p>一度に追加できるディメンションは 1 つだけです。 ディメンションが追加されると、コンポーネントがドロップされた上位 3 つのディメンション項目に対して 3 つのノードが作成されます。</p><p>コンポーネントをキャンバスにドロップして、1 つの結合ノードとして追加するには、Shift キーを押しながらコンポーネントをドラッグします。 上位 3 つのディメンション項目が各ノードで組み合わされます。 （詳しくは、[ ノードの組み合わせ ](#combine-nodes) を参照してください）。</p> |
   | 複数のコンポーネント | 既存のノード | すべてのコンポーネントが既存のノードと組み合わされます。<p>追加するコンポーネントのいずれかがディメンションの場合、上位 3 つのディメンション項目がノードと組み合わされます。</p> <p>一度に追加できるディメンションは 1 つだけです。</p> |
   | 複数のコンポーネント | 2 つの既存のノードを接続する矢印 | **どのコンポーネントも寸法でない場合：**<p>各コンポーネントは、コンポーネントがドロップされ、各ノードが両方の既存のノードに接続されている個別のノードとして表示されます。 （詳しくは、[ ノードの接続 ](#connect-nodes) を参照してください）。</p><p>コンポーネントをキャンバスにドロップして、1 つの結合ノードとして追加するには、Shift キーを押しながらコンポーネントをドラッグします。 （コンポーネントを 1 つのノードに組み合わせるには、同じタイプのコンポーネントが必要です）。 （詳しくは、[ ノードの組み合わせ ](#combine-nodes) を参照してください）。</p><p>**追加するコンポーネントのいずれかが寸法の場合：**</p><p>各コンポーネントは、コンポーネントがドロップされ、各ノードが両方の既存のノードに接続されている個別のノードとして表示されます。</p><p>一度に追加できるディメンションは 1 つだけです。 ディメンションが追加されると、最初のノードの後の最初のイベントの後に続くディメンションの上位 3 つの項目（最終的に 2 番目のノードに到達する人物/セッションの）に対して、3 つのノードが作成されます。 各ノードは、両方の既存のノードに接続されます。 （詳しくは、[ ノードの接続 ](#connect-nodes) を参照してください）。</p><p>コンポーネントをキャンバスにドロップして、1 つの結合ノードとして追加するには、Shift キーを押しながらコンポーネントをドラッグします。 上位 3 つのディメンション項目が各ノードと組み合わされ、各ノードは両方の既存のノードに接続されます。 （詳しくは、[ ノードの組み合わせ ](#combine-nodes) を参照してください）。</p> |

   ノードは、次の情報を持つ長方形のボックスとして表示されます。

   * コンポーネント名

   * コンポーネントのタイプ（指標、ディメンションなど）

   * プライマリ指標の統計（合計およびパーセント）

   * セカンダリ指標統計（合計およびパーセント）

1. このプロセスを繰り返して、引き続きノードを追加し、ジャーニーを構築します。

1. 以下の節で説明するように、ジャーニーのカスタマイズを続行します。 ノードの接続、ノードの名前の変更、分類の適用、オーディエンスの作成、時間の制約の追加などを行うことができます。

### 既存のノードに基づいて上位のノードを表示

>[!AVAILABILITY]
>
>この機能はまだ使用できません。

既にキャンバス上にあるノードに基づいて、上位のノードを自動的に表示できます。 上部ノードをジャーニーキャンバスに追加したり、フリーフォームテーブルで表示したりできます。

このオプションは、キャンバス上の次のオブジェクトで使用できます。

* 個々のノード

* ノード間の矢印

#### 既存ノードの後の上位ノードを表示

ノードを選択し、ジャーニーでその後に続く上位のディメンション項目を表示できます。 上位 3 つのディメンション項目を個別のノードとしてジャーニーキャンバスに追加したり、フリーフォームテーブルで上位のすべてのディメンション項目を表示したりできます。

1. ジャーニー内でその後に続く上位のディメンション項目を表示するノードを右クリックします。

   ノードは、ジャーニー内で既存のノードを送信することはできません。

1. [!UICONTROL **このノードの後の上位のノードを表示**] を選択します。

1. ディメンション項目を表示する場所を選択：

   * [!UICONTROL **ジャーニーキャンバス内**]：ジャーニーでこのノードの後に来る上位 3 つのノードをキャンバスに追加します。 各ノードは、キャンバス上で個別のブランチとして選択したノードに接続されます。

   * [!UICONTROL **フリーフォームテーブルで**]：ジャーニーのこのノードの後に来るすべての上位ディメンション項目を示すフリーフォームテーブルビジュアライゼーションを作成します。

1. ディメンションのリストから目的のディメンションを選択します。

   前の手順で選択した内容に応じて、上位 3 つのディメンション項目が 3 つの個別のノードとしてキャンバスに追加されるか、すべての上位ディメンション項目がフリーフォームテーブルに表示されます。

#### 既存ノードの前の上位ノードを表示

ノードを選択し、ジャーニー内でそのノードより前にある上位のディメンション項目を表示できます。 上位 3 つのディメンション項目を個別のノードとしてジャーニーキャンバスに追加したり、フリーフォームテーブルで上位のすべてのディメンション項目を表示したりできます。

1. ジャーニーの上位のディメンション項目を表示するノードを右クリックします。

   このノードには、ジャーニーで受け入れられる既存のノードを含めることはできません。

1. [!UICONTROL **このノードの前に上位のノードを表示**] を選択します。

1. ディメンション項目を表示する場所を選択：

   * [!UICONTROL **ジャーニーキャンバス内**]：ジャーニーのこのノードの前にある上位 3 つのノードをキャンバスに追加します。 各ノードは、キャンバス上で個別のブランチとして選択したノードに接続されます。

   * [!UICONTROL **フリーフォームテーブルで**]：ジャーニーのこのノードより前のすべての上位ディメンション項目を示すフリーフォームテーブルビジュアライゼーションを作成します。

1. ディメンションのリストから目的のディメンションを選択します。

   前の手順で選択した内容に応じて、上位 3 つのディメンション項目が 3 つの個別のノードとしてキャンバスに追加されるか、すべての上位ディメンション項目がフリーフォームテーブルに表示されます。

#### 既存のノード間の上位のノードを表示

矢印を選択し、ジャーニーの既存の 2 つのノードの間にある上位のディメンション項目を表示できます。 上位 3 つのディメンション項目を個別のノードとしてジャーニーキャンバスに追加したり、フリーフォームテーブルで上位のすべてのディメンション項目を表示したりできます。

1. 上位のディメンション項目を表示する 2 つのノード間の矢印を右クリックします。

1. 「[!UICONTROL **これらのノード間の上位のノードを表示**]」を選択します。

1. ディメンション項目を表示する場所を選択：

   * [!UICONTROL **ジャーニーキャンバス内**]:2 つの既存のノードの間にある上位 3 つのノードをキャンバスに追加します。 各ノードは、キャンバス上の別のブランチとして周囲のノードに接続されます。

   * [!UICONTROL **フリーフォームテーブルで**]:2 つの既存のノードの間にある上位のディメンション項目をすべて表示するフリーフォームテーブルビジュアライゼーションを作成します。

1. ディメンションのリストから目的のディメンションを選択します。

   前の手順で選択した内容に応じて、上位 3 つのディメンション項目が 3 つの個別のノードとしてキャンバスに追加されるか、すべての上位ディメンション項目がフリーフォームテーブルに表示されます。

### 重複ノード

>[!AVAILABILITY]
>
>この機能はまだ使用できません。

複製するオプションは、キャンバス上の次のオブジェクトで使用できます。

* 複数のノード

ノードを複製するには：

1. 複製するノードを複数選択します。

1. 選択したノードの 1 つを右クリックし、「[!UICONTROL **複製**]」を選択します。

## ジャーニーの設計

ノードの順序とノード間のコネクションは、ジャーニーキャンバスデータに影響を与えます。 ジャーニーには、レポート対象のイベントのシーケンスを視覚的かつ正確に反映する必要があります。

ノードをキャンバスに追加した後は、ノードの並べ替え、結合、接続、およびノード間の時間制約の追加を行うことができます。

### ノードの並べ替え

ジャーニーキャンバスのジャーニーは、イベント、ディメンション項目、フィルターの任意の組み合わせを表すノードと矢印の柔軟なグラフで構成されています。

キャンバス上でノードをドラッグして、ジャーニーのイベントや条件を並べ替えることができます。 Command キー（Macの場合）または Ctrl キー（Windows の場合）を押して、複数のノードを選択できます。

ジャーニー内のノードの順序を並べ替えると、それに応じてデータが更新されます。

### ノードの結合

ジャーニーキャンバスの結合ノードは、ロジックによって結合された 2 つ以上のコンポーネントを含むユーザージャーニー（ノード）のシングルポイントです。

#### 組み合わせノードの作成

次のいずれかの操作を実行して、ジャーニーキャンバスに結合ノードを作成できます。

* 左側のパネルから、1 つのコンポーネントをキャンバスのノードにドラッグします。

* 左パネルから、複数のコンポーネントをキャンバス上のノードに同時にドラッグします。

* 左側のパネルから、Shift キーを押しながら複数のコンポーネントをキャンバスの空白の領域に同時にドラッグします。

* キャンバスで、結合するノードを選択し、選択したノードの 1 つを右クリックして、「**結合**<!--Is there a limit on how many you can combine? --> を選択します。

#### ノードを組み合わせる際のロジック

ノードを組み合わせる際にノードに適用されるロジックは、組み合わせるコンポーネントタイプによって次のように異なります。

>[!TIP]
>
>結合ノードのロジックを表示するには、ノードを右クリックして [!UICONTROL **ノードからフィルターを作成**] を選択します。 ロジックは、「[!UICONTROL **定義**] セクションに表示されます。


| 結合するコンポーネントタイプ | 使用されたロジック （演算子） |
|---------|----------|
| 指標+指標 | OR で結合 |
| DimensionとDimension | OR で結合 |
| フィルター+ フィルター | AND で結合 |
| Dimension +指標、日付範囲またはフィルター | AND で結合 |
| 日付範囲+指標、フィルター、Dimension | AND で結合 |
| フィルター+指標、日付範囲またはDimension | AND で結合 |

### ノードの接続

既にキャンバス上にあるノードを接続するか、キャンバスに追加するときにノードを接続できます。

#### ノード間の矢印

ノードは矢印で接続されています。 矢印の方向と幅の両方に重要性があります。

* **方向**：ジャーニーのイベントのシーケンスを示します

* **幅**：ノード間の体積の割合を示します。

#### ノードを接続する際のロジック

ジャーニーキャンバスでノードをコネクトする場合、THEN 演算子を使用してノードがコネクトされます。 これは、「順次フィルタリング [ とも呼ばれ ](/help/components/filters/seg-sequential-build.md) す。

ノードは「最終的なパス」として接続されます。つまり、2 つのノード間で発生したイベントに関係なく、最終的にノード間で移動する限り、訪問者はカウントされます。

接続されたノードのロジックを表示するには、ノードを右クリックして [!UICONTROL **ノードからフィルターを作成**] を選択します。 ロジックは、「[!UICONTROL **定義**] セクションに表示されます。

#### 既存のノードの接続

ジャーニーを循環させることはできません。以前に接続したノードにループ バックします。

ジャーニー キャンバスでノードをコネクトするには：

1. キャンバスで、別のノードに接続するジャーニーシーケンスの最初のノードの上にマウスポインターを置きます。

   選択したノードの両側に 4 つの青いドットが表示されます。

1. 4 つの青いドットのいずれかを、接続先のノードの 4 つの側面のいずれかにドラッグします。

   矢印が表示され、2 つのノードが接続されます。 詳しくは、[ ノード間の矢印 ](#arrows-between-nodes) を参照してください。

#### ノード追加時のノードの接続

キャンバスにノードを追加する場合、接続された 2 つのノードの間にノードを配置できます。 ノードは、2 つの既存のノード間のジャーニーのフローに追加されます。

詳しくは、[ ノードの追加 ](#add-nodes) を参照してください。

### ノード間に時間制約を追加する

>[!AVAILABILITY]
>
>この機能はまだ使用できません。

ノード間に時間制約を設定できます。 時間制約が設定されている場合、定義されたジャーニーに従い、ノード間の移動に割り当てられた期間よりも長い時間がかかると、ジャーニーから離脱したと見なされます。

時間制約を追加するオプションは、キャンバス上の次のオブジェクトで使用できます。

* ノード間の矢印

時間制約を追加するには：

1. 2 つのノード間の矢印を右クリックし、[!UICONTROL **時間制約を追加**] を選択します。

<!-- 

from Travis: You can set time to be within X amount of time or after X amount of time (those are the only two options I think, but we can check with Brandon). 
1. Choose from the following options: 

-->

## ノードまたは矢印を管理

### ノードまたは矢印の色を変更する

>[!AVAILABILITY]
>
>この機能はまだ使用できません。

キャンバス上の任意のノードや矢印の色を変更することで、ジャーニーを視覚的にカスタマイズできます。 例えば、望ましいイベントや望ましくないイベントを示すためにカラーを調整できます。

カラーを変更するオプションは、キャンバス上の次のオブジェクトで使用できます。

* 個々のノード

* ノード間の矢印

ノードまたは矢印の色を変更するには：

1. 色を変更するノードまたは矢印を右クリックします。

1. [!UICONTROL **色を変更**]. <!--make sure "color" isn't capitalized. It is in the req doc--> を選択します。

1. 目的の色を選択します。

   使用できるカラーは次のとおりです。<!--look into this interaction and color list-->

### ノードまたは矢印の名前を変更

>[!AVAILABILITY]
>
>この機能はまだ使用できません。

コンポーネントをジャーニーカンバスビジュアライゼーションにドラッグすると、コンポーネント名と同じ名前のノードが作成されます。 ノードが表すジャーニーのステップに合うように、ノードの名前を変更できます。

名前を変更するオプションは、キャンバス上の次のオブジェクトで使用できます。

* 個々のノード

* ノード間の矢印

ノードの名前を変更するには：

1. 名前変更するノードを右クリックします。

1. 「[!UICONTROL **名前を変更**]」を選択します。

1. 新しい名前を指定し、Enter キーを押します。<!--is that right?-->

### 分類を適用

データに分類を適用するオプションは、キャンバス上の次のオブジェクトで使用できます。

* 個々のノード

* 複数のノード

* ノード間の矢印

* ノード間の複数の矢印

分類を適用する際は、次の点を考慮してください。

* 分類はプライマリ指標に適用されます。 セカンダリ指標は影響を受けません。

* 分類を適用しても、ジャーニーは変更されません。 代わりに、単に、適用先のノードのデータの分類を表示します。

* ノードに既に分類がある場合、新しい分類を適用すると、既存の分類が置き換えられます。

* ジャーニーの以前のポイントで変更が行われると、分類データが更新されます。

#### 1 つ以上のノードまたは矢印への分類の適用

>[!AVAILABILITY]
>
>この機能はまだ使用できません。

1. 分類を適用するノードを 1 つ以上選択し、選択したノードの 1 つを右クリックします。

   または

   分類を適用する 2 つのノード間の 1 つ以上の矢印を選択し、選択した矢印のいずれかを右クリックします。

1. 「[!UICONTROL **分類**]」を選択します。

<!-- 1. Choose where you want to view the breakdown:

        * [!UICONTROL **In Journey canvas**]

        * [!UICONTROL **In a freeform table**]

-->

#### 個々のノードへの分類の適用

左側のパネルから、分類を適用するキャンバス上のノードにディメンションをドラッグできます。

詳しくは、[ ノードの追加 ](#add-nodes) を参照してください。

### オーディエンスの作成

オーディエンスを作成するオプションは、キャンバス上の次のオブジェクトで使用できます。

* 個々のノード

* 複数のノード

* ノード間の矢印

* ノード間の複数の矢印

複数のノードや矢印からオーディエンスを作成する場合、それらのノードや矢印は OR 演算子で結合されます。

オーディエンスを作成するには：

1. オーディエンスを作成する 1 つ以上のノードを選択し、選択したいずれかのノードを右クリックします。

   または

   オーディエンスを作成する 2 つのノード間の 1 つ以上の矢印を選択し、選択した矢印のいずれかを右クリックします。

1. 「[!UICONTROL **オーディエンスを作成**]」を選択します。

<!-- 1. Choose where you want to create the audience:

        * [!UICONTROL **In Journey canvas**]

        * [!UICONTROL **In a freeform table**]

-->

1. [ オーディエンスの作成と公開 ](/help/components/audiences/publish.md) の説明に従って、オーディエンスの作成と公開を続行します。

### トレンドデータの表示

>[!AVAILABILITY]
>
>この機能はまだ使用できません。

トレンドデータは、ジャーニーキャンバスのオブジェクトの折れ線グラフで表示できます。<!--, with some prebuilt anomaly detection data (this is the definition in Fallout) -->

キャンバス上の次のオブジェクトに対して、トレンドのオプションを使用できます。

* 個々のノード

* 複数のノード

* ノード間の矢印

* ノード間の複数の矢印

トレンド・データを表示するには、次の手順に従います。

1. トレンド・データを表示するノードを 1 つ以上選択し、選択したノードのいずれかを右クリックします。

   または

   トレンド・データを表示する 2 つのノード間の 1 つ以上の矢印を選択し、選択した矢印のいずれかを右クリックします。

1. [!UICONTROL **トレンド**] を選択します。

### ノードまたは矢印に基づいてフィルターを作成します

ジャーニー内のノードまたは矢印に基づいて新しいフィルターを作成できます。 フィルターを作成したら、Analysis Workspaceの任意の場所で使用できます。

ジャーニーキャンバスから作成されたフィルターは、[ 順次フィルタリング ](/help/components/filters/seg-sequential-build.md) を使用します。 つまり、フィルターが THEN 演算子を使用して、ユーザーが流れ込んだイベントのシーケンス（ジャーニー）をリンクし、選択されたノードまたは矢印に誘導します。 選択したノードまたは矢印に一致するすべてのイベントがフィルターに含まれます。

複数のパスが流入するノードに基づいてフィルターを作成すると、すべてのパスがフィルターに含まれます。 個別のパスは、OR 演算子で結合されます。

フィルターを作成するには、次の手順を実行します。

1. キャンバス上で、フィルターの作成に使用するノードまたは矢印を右クリックします。

1. [!UICONTROL **ノードからフィルターを作成**] または [!UICONTROL **矢印からフィルターを作成**] を選択します。

   フィルタービルダーが表示されます。 「[!UICONTROL **定義**]」セクションでは、選択したノードまたは矢印とジャーニー内のコンテキストに基づいてフィルター定義が作成されます。

1. フィルターのタイトルを指定し、その他の変更を行います。 フィルターの作成について詳しくは、「[ フィルタービルダー ](/help/components/filters/filter-builder.md)」を参照してください。

1. 「[!UICONTROL **保存**]」を選択して、フィルターを保存します。

### ノードを削除

ジャーニー内では、一度に 1 つ以上のノードを削除できます。 ジャーニー内の 2 つのノード間に接続されているノードを削除すると、残りの 2 つのノードが直接接続されます。

ジャーニーキャンバスでノードを削除するには：

1. 削除する 1 つ以上のノードを選択し、選択したノードの 1 つを右クリックします。

1. 「[!UICONTROL **削除**]」を選択します。

### ノード間の矢印を削除

ジャーニー内では、一度に 1 つ以上の矢印を削除できます。 2 つのノード間の矢印を削除すると、そのノードは接続されなくなります。 矢印が長いパスの一部であった場合、そのパスは切断されます。

ジャーニー キャンバスでノード間の矢印を削除するには：

1. 削除する 2 つのノード間の 1 つ以上の矢印を選択し、選択した矢印のいずれかを右クリックします。

1. 「[!UICONTROL **削除**]」を選択します。


<!-- Delete this after I decide I don't want to do it this way. Will probably use sections like I hav above.

### Manage existing nodes

1. In Analysis Workspace, open an existing Journey canvas visualization, or [begin building a new one](#begin-building-a-journey-canvas-visualization).

1. Right-click an **individual node** on the canvas, then select any of the following options:
   
   | Option | Function | 
   |---------|----------|
   | [!UICONTROL **Create segment**] | B1 |
   | [!UICONTROL **Publish audience**] | B2 |
   | [!UICONTROL **Trend**] | B3 | 
   | [!UICONTROL **Breakdown**] | B2 |
   | [!UICONTROL **Get top next ...**] | B2 |
   | [!UICONTROL **Change color**] | B2 |
   | [!UICONTROL **Rename**] | B2 |
   | [!UICONTROL **Delete**] | B2 |

1. Select **multiple nodes** on the canvas, right-click one of the selected nodes, then select any of the following options:

   | Option | Function | 
   |---------|----------|
   | [!UICONTROL **Combine**] | B1 |
   | [!UICONTROL **Delete**] | B2 |
   | [!UICONTROL **Duplicate**] | B3 | 
   | [!UICONTROL **Trend**] | B2 |
   | [!UICONTROL **Breakdown**] | B2 |
   | [!UICONTROL **Create segment**] | B2 |
   | [!UICONTROL **Publish audience**] | B2 |

   -->


## Journey Optimizerからジャーニーを開く


Journey Optimizerで、ジャーニーキャンバスで分析するジャーニーを開きます。

1. [!UICONTROL **CJA で分析**] を選択します。<!-- ?? -->
