---
title: 組み合わせイベントデータセット
description: Customer Journey Analyticsがデータセットを組み合わせて接続を作成する方法を説明します。
exl-id: 9f678225-a9f3-4134-be38-924b8de8d57f
solution: Customer Journey Analytics
feature: Connections
role: Admin
source-git-commit: 80d5a864e063911b46ff248f2ea89c1ed0d14e32
workflow-type: tm+mt
source-wordcount: '578'
ht-degree: 61%

---


# 組み合わせイベントデータセット

接続を作成する場合、Customer Journey Analyticsは、すべてのスキーマとデータセットを 1 つのデータセットに組み合わせます。 レポートにCustomer Journey Analyticsが使用するのは、この「結合イベントデータセット」です。 複数のスキーマまたはデータセットを接続に含める場合：

* スキーマは組み合わせられます。重複スキーマフィールドが結合されます。
* 各データセットの「ユーザー ID」列は、名前に関係なく 1 つの列に結合されます。この列は、Customer Journey Analyticsにおける一意の人物を識別するための基礎となります。
* 行はタイムスタンプに基づいて処理されます。
* イベントはミリ秒レベルまで解決されます。

## 例

次の例をご覧ください。2 つのイベントデータセットがあり、それぞれ異なるフィールドに異なるデータが含まれています。

>[!NOTE]
>
> 通常、Adobe Experience Platform はタイムスタンプを Unix ミリ秒単位で保存します。この例では、わかりやすくするために、日付と時刻を使用しています。

| `example_id` | `timestamp` | `string_color` | `string_animal` | `metric_a` |
| --- | --- | --- | --- | --- |
| `user_310` | `1 Jan 7:02 AM` | `Red` | `Fox` | |
| `user_310` | `1 Jan 7:04 AM` | | | `2` |
| `user_310` | `1 Jan 7:08 AM` | `Blue` | | `3` |
| `user_847` | `2 Jan 12:31 PM` | | `Turtle` | `4` |
| `user_847` | `2 Jan 12:44 PM` | | | `2` |

| `different_id` | `timestamp` | `string_color` | `string_shape` | `metric_b` |
| --- | --- | --- | --- | --- |
| `user_847` | `2 Jan 12:26 PM` | `Yellow` | `Circle` | `8.5` |
| `user_847` | `2 Jan 1:01 PM` | `Red` | | |
| `alternateid_656` | `2 Jan 8:58 PM` | `Red` | `Square` | `4.2` |
| `alternateid_656` | `2 Jan 9:03 PM` | | `Triangle` | `3.1` |

これら 2 つのイベントデータセットを使用して接続を作成すると、次のテーブルがレポートに使用されます。

| `id` | `timestamp` | `string_color` | `string_animal` | `string_shape` | `metric_a` | `metric_b` |
| --- | --- | --- | --- | --- | --- | --- |
| `user_310` | `1 Jan 7:02 AM` | `Red` | `Fox` | | | |
| `user_310` | `1 Jan 7:04 AM` | | | | `2` | |
| `user_310` | `1 Jan 7:08 AM` | `Blue` | | | `3` | |
| `user_847` | `2 Jan 12:26 PM` | `Yellow` | | `Circle` | | `8.5` |
| `user_847` | `2 Jan 12:31 PM` | | `Turtle` | | `4` | |
| `user_847` | `2 Jan 12:44 PM` | | | | `2` | |
| `user_847` | `2 Jan 1:01 PM` | `Red` | | | | |
| `alternateid_656` | `2 Jan 8:58 PM` | `Red` | | `Square` | | `4.2` |
| `alternateid_656` | `2 Jan 9:03 PM` | | | `Triangle` | | `3.1` |

この組み合わせイベントデータセットは、レポートで使用されるデータセットです。行がどのデータセットから取得されたかは関係ありません。Customer Journey Analyticsでは、すべてのデータを同じデータセット内にあるかのように処理します。 一致するユーザー ID が両方のデータセットに表示されると、それらは同じ一意のユーザーと見なされます。 タイムスタンプが 30 分以内の両方のデータセットに、一致するユーザー ID が含まれる場合、それらは同じセッションの一部と見なされます。

この概念はアトリビューションにも当てはまります。どのデータセットから行が取得されたかは関係ありません。アトリビューションは、すべてのイベントが 1 つデータセットから取得された場合と同じように機能します。上記の表を例として使用します。

接続に最初のテーブルのみが含まれ、2 番目のテーブルは含まれない場合、ラストタッチアトリビューションでディメンション `string_color` と `metric_a` 指標を使用してレポートを取り込むと、次のように表示されます。

| string_color | metric_a |
| --- | --- |
| 未指定 | 6 |
| 青 | 3 |
| 赤 | 2 |

ただし、両方のテーブルを接続に含めた場合、`user_847` は両方のデータセットにあるので、属性は変更されます。2 つ目のデータセット属性 `metric_a` から「Yellow」（以前は未指定）までの行

| string_color | metric_a |
| --- | --- |
| 黄色 | 6 |
| 青 | 3 |
| 赤 | 2 |

## クロスチャネル分析

データセットの組み合わせの次のレベルは、共通の識別子（ユーザー ID）に基づいて、異なるチャネルのデータセットが組み合わされるクロスチャネル分析です。 クロスチャネル分析では、データセットのユーザー ID のキーを変更できるステッチ機能を活用できます。これにより、データセットが適切に更新され、複数のデータセットをシームレスに組み合わせることができます。 ステッチでは、認証済みセッションと未認証セッションの両方からのユーザーデータを調べて、ステッチされた ID を生成します。

クロスチャネル分析を使用すると、次のような質問に答えることができます。

* 1 つのチャネルでエクスペリエンスを始め、別のチャネルでエクスペリエンスを終える人は何人いるか。
* 何人のユーザーがブランドとやり取りしているか。ユーザーが使用しているデバイスの台数および種類は何か。それらはどのように重なっているか。
* ユーザーは、どのようにしてモバイルデバイスでタスクを開始し、後でデスクトップ PC に移行してタスクを完了するか。あるデバイスに到達した Campaign のクリックスルーは、別の場所でのコンバージョンにつながりますか？
* クロスデバイスジャーニーを検討すると、キャンペーンの有効性に関する理解はどのように変わりますか？ ファネル分析はどのように変化するか。
* ユーザーがあるデバイスから別のデバイスへと移動する際の、最も一般的なパスは何か。どこからドロップアウトするか。成功した場所はどこか。
* 複数のデバイスを所有するユーザーの動作は、単一のデバイスを所有するユーザーとはどのように異なるか。


クロスチャネル分析について詳しくは、特定のユースケースを参照してください。

* [クロスチャネル分析](../use-cases/cross-channel/cross-channel.md)

より詳細なディスカッションのステッチ機能については、次を参照してください。

* [ステッチの概要](/help/stitching/overview.md)
* [よくある質問](/help/stitching/faq.md)

